@model AltHealth.Web.Models.ViewModels.PatientViewModel

@{
    ViewBag.Title = "Index";
}
<link href="~/Content/DataTables/css/jquery.dataTables.css" rel="stylesheet" />
<h2>Manage Patients</h2>

<p>
    @Html.ActionLink("Add New Patient", "Add", "Patient", new{@class="btn btn-danger"})
</p>
<table class="patientTable">
    <thead>
    <tr>
        <th>
            First Name
        </th>
        <th>
            Middle Name
        </th>
        <th>
            Last Name
        </th>
        <th>
            Id Number
        </th>
        <th>
            Email Address
        </th>
        <th>
            Gender
        </th>
        <th>
            Reference
        </th>
        <th>Actions</th>
    </tr>
    </thead>
    <tbody>
    @foreach (var item in Model.Patients)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.FirstName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.MiddleName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.LastName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.IdNumber)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.EmailAddress)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Gender)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Reference)
            </td>
            <td>
                @Html.ActionLink("Manage", "Manage",  "Patient",new{id = item.Id}, new { @class="btn btn-primary" })
            </td>
        </tr>
    }
    </tbody>
</table>
<div class="row">
    @if (Model.Status == "success")
    {
        <div class="col-md-push-3 col-md-6 alert alert-success">
            <p>You have successfully Added a new patient</p>
        </div>
    }
    else if (Model.Status == "fail")
    {
        <div class="col-md-push-3 col-md-6 alert alert-danger">
            <p>There has been a problem Added a new patient</p>
        </div>
    }
</div>
@section Scripts{
    <script src="~/Scripts/DataTables/jquery.dataTables.js"></script>
    <script>
        $(document).ready(function () {
            $('.patientTable').DataTable();
        });
    </script>
}